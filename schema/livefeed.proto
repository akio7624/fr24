syntax = "proto3";
package fr24.livefeed;
import "google/protobuf/field_mask.proto";





enum AircraftCategory {
  PASSENGER = 0;
  CARGO = 1;
  MILITARY_AND_GOVERNMENT = 2;
  BUSINESS_JETS = 3;
  GENERAL_AVIATION = 4;
  HELICOPTERS = 5;
  LIGHTER_THAN_AIR = 6;
  GLIDERS = 7;
  DRONES = 8;
  GROUND_VEHICLES = 9;
  OTHER_SERVICE = 10;
  NON_CATEGORIZED = 11;
}

enum DataSource {
  ADSB = 0;
  MLAT = 1;
  FLARM = 2;
  FAA = 3;
  ESTIMATED = 4;
  SATELLITE = 5;
  OTHER_DATA_SOURCE = 6;
  UAT = 7;
  SPIDERTRACKS = 8;
  AUS = 9;
}

enum TrafficType {
  NONE = 0;
  GROUND_ONLY = 1;
  AIRBORNE_ONLY = 2;
  ALL = 3;
}

enum VisibilityMode {
  NOT_VISIBLE = 0;
  PARTIALLY_VISIBLE = 1;
  FULLY_VISIBLE = 2;
}

enum Direction {
  BOTH = 0;
  INBOUND = 1;
  OUTBOUND = 2;
}

enum AirlineOperatorMode {
  PAINTED_AS = 0;
  OPERATED_BY = 1;
}

enum FlightStatus {
  STATUS_UNKNOWN = 0;
  STATUS_ON_TIME = 1;
  STATUS_DELAYED = 2;
  STATUS_DIVERTED = 3;
}

enum IconType {
  ICON_UNKNOWN = 0;
  ICON_AIRLINER = 1;
  ICON_HELICOPTER = 2;
  ICON_GLIDER = 3;
  ICON_DRONE = 4;
  ICON_OTHER = 5;
}





// C14339l0
message Range {
  int32 min = 1;
  int32 max = 2;
}

// C14338l
message Airline {
  string icao = 1;
  int32 type = 2;
}

// C14344n
message Location {
  string iata = 1;
  int32 countryId = 2;
  int32 type = 3;
}

// C14355r0
message Bounds {
  float north = 1;
  float south = 2;
  float west = 3;
  float east = 4;
}

// C14349o1
message Settings {
  repeated DataSource sources = 1;
  repeated AircraftCategory services = 2;
  TrafficType trafficType = 3;
  bool onlyRestricted = 4;
}

// C14366x
message Filters {
  repeated Range altitudeRanges = 1;
  repeated Range speedRanges = 2;
  repeated Airline airlines = 3;
  repeated string callsigns = 4;
  repeated string radars = 5;
  repeated string regs = 6;
  repeated Location airports = 7;
  repeated string flights = 8;
  repeated string types = 9;
  repeated Range birthYearRanges = 10;
  repeated int32 squawks = 11;
  repeated Location origins = 12;
  repeated Location destinations = 13;
  repeated AircraftCategory categories = 14;
  repeated string airspaces = 15;
}

// C14310b1
message PositionDelta {
  int32 deltaLat = 1;
  int32 deltaLon = 2;
  int32 deltaMs = 3;
}

// C14307a1
message PositionBuffer {
  repeated PositionDelta recentPositions = 1;
}

// C14328h1
message StatsEntry {
  DataSource source = 1;
  int32 count = 2;
}

// C14331i1
message Stats {
  repeated StatsEntry total = 1;
}

// C14316d1
message Route {
  string from = 1;
  string to = 2;
  string divertedTo = 3;
}

// C14319e1
message Schedule {
  int32 std = 1;
  int32 etd = 2;
  int32 atd = 3;
  int32 sta = 4;
  int32 eta = 5;
  int32 ata = 6;
  int32 progressPct = 7;
}

// C14358t
message EmsAvailability {
  bool qnh = 1;
  bool amcp = 2;
  bool afms = 3;
  bool oat = 4;
  bool ias = 5;
  bool tas = 6;
  bool mach = 7;
  bool agps = 8;
  bool agpsdiff = 9;
  bool apflags = 10;
  bool windDir = 11;
  bool windSpd = 12;
  bool rs = 13;
}

// C14360u
message EmsInfo {
  int32 qnh = 1;
  int32 amcp = 2;
  int32 afms = 3;
  int32 oat = 4;
  int32 ias = 5;
  int32 tas = 6;
  int32 mach = 7;
  int32 agps = 8;
  int32 agpsdiff = 9;
  int32 apflags = 10;
  int32 windDir = 11;
  int32 windSpd = 12;
  int32 rs = 13;
}

// C14364w
message ExtraInfo {
  string flight = 1;
  string reg = 2;
  Route route = 3;
  string type = 4;
  int32 squawk = 5;
  int32 vspeed = 6;
  string age = 7;
  int32 countryOfReg = 8;
  Schedule schedule = 9;
  int32 logoId = 10;
  string airspace = 11;
  EmsInfo emsInfo = 12;
  EmsAvailability emsAvailability = 13;
  int32 icaoAddress = 14;
  int32 operatedById = 15;
  bool squawkAvailability = 16;
  bool vspeedAvailability = 17;
  bool airspaceAvailability = 18;
  string airspaceId = 19;
}

// C14370z
message Flight {
  int32 flightId = 1;
  float lat = 2;
  float lon = 3;
  int32 track = 4;
  int32 alt = 5;
  int32 speed = 6;
  IconType icon = 7;
  FlightStatus status = 8;
  int64 timestamp = 9;
  bool onGround = 10;
  string callsign = 11;
  DataSource source = 12;
  ExtraInfo extraInfo = 13;
  PositionBuffer positionBuffer = 14;
  int64 timestampMs = 15;
}





// C14342m0
message LiveFeedRequest {
  Bounds bounds = 1;
  Settings settings = 2;
  repeated Filters filters = 3;
  repeated string fleets = 4;
  bool highlightMode = 5;
  bool stats = 6;
  int32 limit = 7;
  int32 maxage = 8;
  VisibilityMode restrictionMode = 9;
  google.protobuf.FieldMask fieldMask = 10;
  repeated int32 selectedFlightIds = 11;
}

// C14345n0
message LiveFeedResponse {
  repeated Flight flights = 1;
  Stats stats = 2;
  repeated Flight selectedFlights = 3;
  int64 serverTimeMs = 4;
}
